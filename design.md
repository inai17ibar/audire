# Audire - 音声SNSアプリ デザイン設計書

## コンセプト

**Audire**（ラテン語で「聴く」の意）は、視覚障がい者をメインユーザーとした音声専用SNSアプリです。目の見えない方が直感的に使えるよう、VoiceOver完全対応と音声UIエージェントを搭載し、音だけでコミュニケーションを楽しめる体験を提供します。

---

## スクリーン一覧

### 1. 認証画面群
| 画面名 | 説明 |
|--------|------|
| **Welcome** | アプリ起動時の初回画面。ログイン/新規登録/ゲストモードの選択 |
| **Login** | メールアドレスとパスワードでのログイン |
| **Register** | 新規ユーザー登録（音声ガイド付き） |
| **GuestMode** | ゲストとして閲覧のみ可能なモード |

### 2. メインタブ画面
| 画面名 | タブアイコン | 説明 |
|--------|-------------|------|
| **Home (タイムライン)** | 🏠 | フォロー中ユーザーの音声投稿フィード |
| **Record (録音)** | 🎙️ | 音声の録音・投稿画面（中央の大きなボタン） |
| **Discover (発見)** | 🔍 | トレンド音声、おすすめユーザー |
| **Stories (ストーリー)** | ⏰ | 24時間で消える音声日記 |
| **Profile (プロフィール)** | 👤 | 自分の投稿、フォロー/フォロワー管理 |

### 3. サブ画面
| 画面名 | 説明 |
|--------|------|
| **AudioDetail** | 音声投稿の詳細再生画面 |
| **UserProfile** | 他ユーザーのプロフィール |
| **LiveRoom** | ライブ音声配信ルーム |
| **LiveRoomList** | 開催中のライブルーム一覧 |
| **Settings** | アプリ設定（アクセシビリティ含む） |
| **SoundEffects** | サウンドエフェクト/BGM選択 |

---

## 主要コンテンツと機能

### Home画面（タイムライン）
- **音声フィードリスト**: FlatListで縦スクロール
  - 各アイテム: ユーザー名、投稿時間、再生ボタン、いいね数、コメント数
  - 再生中の音声は波形アニメーション表示
- **プルダウンリフレッシュ**: 新しい投稿を取得
- **自動読み上げオプション**: フィードを順番に自動再生

### Record画面（録音）
- **大きな録音ボタン**: 画面中央、直径200px以上
- **録音時間表示**: 大きなフォントで経過時間
- **波形ビジュアライザー**: 録音中の音声レベル表示
- **サウンドエフェクト追加**: BGM/効果音の選択
- **投稿オプション**: 公開範囲、ストーリーとして投稿

### Discover画面（発見）
- **トレンド音声**: 人気の音声投稿
- **おすすめユーザー**: フォロー候補
- **カテゴリ検索**: ジャンル別ブラウズ

### Stories画面（音声日記）
- **ストーリーリング**: 上部に横スクロールのユーザーアイコン
- **24時間タイマー**: 残り時間表示
- **連続再生**: ストーリーを自動で次々再生

### LiveRoom画面（ライブ配信）
- **スピーカー一覧**: 現在話している人
- **リスナー数**: 参加者カウント
- **挙手機能**: 発言リクエスト
- **リアクション**: 音声リアクション（拍手、笑いなど）

---

## キーユーザーフロー

### フロー1: 音声投稿
```
Home → Record（タブ） → 録音ボタン長押し → 録音中 → 録音停止 
→ プレビュー再生 → エフェクト追加（任意） → 投稿ボタン → Home（投稿完了）
```

### フロー2: 音声再生
```
Home → 投稿アイテムタップ → AudioDetail → 再生ボタン → 再生中 
→ いいね/コメント → 戻る
```

### フロー3: ストーリー投稿
```
Record → 録音 → 「ストーリーとして投稿」選択 → 投稿 
→ Stories画面に表示（24時間後自動削除）
```

### フロー4: ライブ配信開始
```
Home → LiveRoomList → 「ルーム作成」ボタン → タイトル入力 
→ 配信開始 → LiveRoom画面
```

### フロー5: ライブ参加
```
Discover → LiveRoomList → ルーム選択 → LiveRoom → リスナーとして参加 
→ 挙手 → スピーカー昇格（承認後）
```

---

## カラーパレット

視覚障がい者向けに**高コントラスト**を重視し、音声アプリらしい**落ち着いた色調**を採用。

| トークン | Light | Dark | 用途 |
|----------|-------|------|------|
| **primary** | #6366F1 (インディゴ) | #818CF8 | アクセント、ボタン、アクティブ状態 |
| **background** | #FFFFFF | #0F0F0F | 画面背景 |
| **surface** | #F8FAFC | #1A1A1A | カード、リスト背景 |
| **foreground** | #0F172A | #F8FAFC | メインテキスト |
| **muted** | #64748B | #94A3B8 | サブテキスト、プレースホルダー |
| **border** | #E2E8F0 | #2D2D2D | 境界線 |
| **success** | #10B981 | #34D399 | 成功、オンライン状態 |
| **warning** | #F59E0B | #FBBF24 | 警告、録音中 |
| **error** | #EF4444 | #F87171 | エラー、削除 |
| **recording** | #DC2626 | #F87171 | 録音中インジケーター |

---

## アクセシビリティ設計

### VoiceOver対応
- **すべての要素にaccessibilityLabel**: 明確で簡潔な説明
- **accessibilityHint**: 操作方法の説明
- **accessibilityRole**: button, link, header等の適切な役割
- **accessibilityState**: selected, disabled, checked等の状態

### 音声UIエージェント
- **音声コマンド対応**:
  - 「録音開始」「録音停止」
  - 「再生」「停止」「次へ」「前へ」
  - 「いいね」「フォロー」
  - 「ホームに戻る」「設定を開く」
- **音声フィードバック**: 操作結果を音声で通知
- **触覚フィードバック**: 重要な操作にHaptics

### タッチターゲット
- **最小サイズ**: 48x48dp（Apple HIG準拠）
- **録音ボタン**: 80x80dp以上の大きなタッチエリア
- **十分な間隔**: 要素間8dp以上

### 音声ガイダンス
- **初回起動時チュートリアル**: 音声で操作方法を説明
- **画面遷移時の読み上げ**: 現在の画面名を通知
- **エラー時の音声通知**: 問題と解決方法を読み上げ

---

## コンポーネント設計

### AudioPlayer（音声プレイヤー）
- 再生/一時停止ボタン（大きめ）
- シークバー（VoiceOver対応）
- 再生時間表示
- 再生速度調整（0.5x, 1x, 1.5x, 2x）

### RecordButton（録音ボタン）
- 長押しで録音開始
- 離すと録音停止
- 録音中は赤く点滅
- 波形アニメーション

### AudioCard（音声投稿カード）
- ユーザーアバター
- ユーザー名（タップでプロフィールへ）
- 投稿時間
- 再生ボタン
- いいね/コメントボタン
- 再生時間

### StoryRing（ストーリーリング）
- 円形ユーザーアイコン
- 未視聴は紫のリング
- 視聴済みはグレーのリング
- 残り時間インジケーター

---

## 技術スタック

- **フレームワーク**: Expo SDK 54 + React Native
- **状態管理**: React Context + AsyncStorage
- **音声処理**: expo-audio
- **ナビゲーション**: Expo Router
- **スタイリング**: NativeWind (Tailwind CSS)
- **アクセシビリティ**: React Native Accessibility API
- **バックエンド**: tRPC + PostgreSQL（ユーザー認証・データ同期用）

---

## 今後の検証項目

1. **音声日記 vs サウンドエフェクト vs ライブ配信**: どの機能がユーザーに最も価値を提供するか
2. **音声UIエージェントの精度**: 音声コマンド認識の実用性
3. **自動再生機能**: タイムラインの自動再生がユーザー体験を向上させるか
